let t=[],a=(l,h)=>{let o=[],n={get(){return n.lc||n.listen(()=>{})(),n.value},l:h||0,lc:0,listen(s,i){return n.lc=o.push(s,i||n.l)/2,()=>{let e=o.indexOf(s);~e&&(o.splice(e,2),--n.lc||n.off())}},notify(s){let i=!t.length;for(let e=0;e<o.length;e+=2)t.push(o[e],o[e+1],n.value,s);if(i){for(let e=0;e<t.length;e+=4){let u;for(let r=e+1;!u&&(r+=4)<t.length;)t[r]<t[e+1]&&(u=t.push(t[e],t[e+1],t[e+2],t[e+3]));u||t[e](t[e+2],t[e+3])}t.length=0}},off(){},set(s){n.value!==s&&(n.value=s,n.notify())},subscribe(s,i){let e=n.listen(s,i);return s(n.value),e},value:l};return n};const f=a(!1),v=a(!1),d=a("/"),p=a("none"),c=a("none"),g=a("none");function m(l){v.set(l),l&&f.set(!1)}function x(l){p.set(l)}function T(l){d.set(l)}function b(l){f.set(!f.get())}function q(){c.set("exit"),console.log(c.get())}function w(l){g.set(l),console.log(g.get())}export{m as a,p as b,b as c,T as d,w as e,c as f,q as g,x as h,g as m,d as r,f as t,v};
