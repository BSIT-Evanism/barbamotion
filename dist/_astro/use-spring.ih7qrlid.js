import{r as a}from"./index._83CrWW8.js";import{M as p,i as c,a as l,f,b as g,u as y}from"./motion.eGBi1l74.js";import{a as S}from"./use-scroll.KK8Ye6iy.js";function V(e,i={}){const{isStatic:m}=a.useContext(p),n=a.useRef(null),t=S(c(e)?e.get():e),o=()=>{n.current&&n.current.stop()};return a.useInsertionEffect(()=>t.attach((r,s)=>{if(m)return s(r);if(o(),n.current=l({keyframes:[t.get(),r],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...i,onUpdate:s}),!f.isProcessing){const u=performance.now()-f.timestamp;u<30&&(n.current.time=g(u))}return t.get()},o),[JSON.stringify(i)]),y(()=>{if(c(e))return e.on("change",r=>t.set(parseFloat(r)))},[t]),t}export{V as u};
